webpackJsonp([1],{"1nFq":function(t,e){},BxIo:function(t,e){},IphO:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("Xxa5"),o=n.n(s),i=n("exGp"),r=n.n(i),c=n("mtWM"),u=n.n(c),d={address:"",tokens:[]};window.store=d;var p={data:d,loadTokens:function(t,e){var n=this;return r()(o.a.mark(function a(){var s,i,r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.get(window.API+"/token-holders",{params:{page:t||1,limit:e||15,hash:d.address}});case 2:s=n.sent,i=s.data,r=i.items.map(function(t){return{icon:"",name:t.tokenObj.name,symbol:t.tokenObj.symbol,balance:t.quantityNumber,address:t.tokenObj.hash.toLowerCase()}}).filter(function(t){return!d.tokens.find(function(e){return e.address==t.address})}),d.tokens=d.tokens.concat(r);case 6:case"end":return n.stop()}},a,n)}))()},login:function(){if("undefined"!=typeof web3)return d.address=web3.eth.accounts[0],d.address;window.alert("Please unlock MetaMask and reload browser!")},getToken:function(t){return d.tokens.find(function(e){return e.address==t})},checkAddress:function(t){return web3.isAddress(t)}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var m=n("VU/8")({name:"App"},l,!1,function(t){n("BxIo")},null,null).exports,f=n("/ocq"),v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:"tokendetail/"+t.token.address,tag:"div"}},[n("div",{staticClass:"token-item"},[t.token.icon?n("img",{staticClass:"icon",attrs:{src:t.token.icon}}):n("div",{staticClass:"icon"},[t._v(t._s(t.token.symbol[0]))]),t._v(" "),n("div",{staticClass:"info"},[n("div",[n("div",{staticClass:"name"},[t._v(t._s(t.token.name))]),t._v(" "),n("div",{staticClass:"symbol"},[t._v(t._s(t.token.symbol))])]),t._v(" "),n("div",{staticClass:"amount"},[t._v(t._s(parseFloat(t.token.balance).toFixed(2)))])])])])},staticRenderFns:[]};var y={name:"Home",components:{TokenItem:n("VU/8")({props:["token"]},v,!1,function(t){n("1nFq")},"data-v-9dcb6008",null).exports},data:function(){return{store:p.data}},created:function(){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.addEventListener("load",function(){"undefined"!==p.login()&&p.loadTokens(1,15)}),localStorage.page=3;case 2:case"end":return t.stop()}},e,t)}))()}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[this.store.tokens&&0!=this.store.tokens.length?e("div",this._l(this.store.tokens,function(t){return e("TokenItem",{key:t.address,attrs:{token:t}})}),1):e("div",[e("div",{staticClass:"empty"},[this._v("\n      Empty\n    ")]),this._v(" "),e("div",{staticClass:"empty-text"},[this._v("\n      You dont have any TRC-20 tokens;\n    ")])])])},staticRenderFns:[]};var h=n("VU/8")(y,_,!1,function(t){n("sq73")},"data-v-5fb33e81",null).exports,w=(n("Ya8g"),n("vDgR")),b=function(t,e,n,a){var s=web3.eth.contract(w).at(n);e*=Math.pow(10,18),s.transfer(t,e,a)},k=function(t,e){var n=web3.eth.contract(w).at(t);n.balanceOf(p.data.address,function(t,a){n.decimals(function(t,n){var s=(a=a.div(Math.pow(10,n))).toString();e&&e(s)})})},g=function(t){web3.eth.getBalance(p.data.address,function(e,n){if(e)return e;var a=web3.toDecimal(n);t&&t(a)})},x={data:function(){return{token:null,transferValue:"",recipientAddress:"",tokenBalance:0,zeroTomo:!1}},created:function(){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getToken(t.$route.params.address);case 2:t.token=e.sent,setInterval(function(){k(t.$route.params.address,function(e){t.tokenBalance=e})},2e3),g(function(e){0===e&&(t.zeroTomo=!0)});case 5:case"end":return e.stop()}},e,t)}))()},methods:{transfer:function(){var t,e=this;b(this.recipientAddress,this.transferValue,this.token.address,(t=r()(o.a.mark(function t(n,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,e)})),function(e,n){return t.apply(this,arguments)}))},validated:function(){return!(this.zeroTomo||this.transferValue>this.token.balance||!this.isNumeric(this.transferValue)||""===this.transferValue||""===this.recipientAddress||!0!==p.checkAddress(this.recipientAddress))},isNumeric:function(t){return/[0-9]|\./.test(t)},allToken:function(){this.transferValue=this.token.balance}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"exchange"},[n("div",{staticClass:"exchange__container"},[n("div",{staticClass:"input-group"},[n("div",{staticStyle:{color:"#868f9b","text-align":"right"},on:{click:function(e){return t.$emit("close")}}},[t._v("x")]),t._v(" "),n("div",{staticClass:"input-group__title",staticStyle:{display:"flex"}},[t._v("Send:")]),t._v(" "),n("div",{staticClass:"input-group__wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.transferValue,expression:"transferValue"}],staticClass:"input-group__input input-group__input-swap",attrs:{type:"text",placeholder:"0"},domProps:{value:t.transferValue},on:{input:function(e){e.target.composing||(t.transferValue=e.target.value)}}}),t._v(" "),n("div",{staticStyle:{color:"#3dbeff"},on:{click:function(e){return t.allToken()}}},[t._v("All")])]),t._v(" "),n("div",{staticClass:"input-group__info input-group__info-address"})]),t._v(" "),n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group__title"},[t._v("To Address:")]),t._v(" "),n("div",{staticClass:"input-group__wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.recipientAddress,expression:"recipientAddress"}],staticClass:"input-group__input input-group__input--ful",attrs:{type:"text"},domProps:{value:t.recipientAddress},on:{input:function(e){e.target.composing||(t.recipientAddress=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group__info"})])]),t._v(" "),!1===t.validated()?n("div",{staticClass:"exchange__button-container common__fade-in"},[n("div",{staticClass:"exchange__button common__button-gradient",staticStyle:{opacity:"0.2"}},[t._v("Transfer Now")])]):n("div",{staticClass:"exchange__button-container common__fade-in"},[n("div",{staticClass:"exchange__button common__button-gradient",on:{click:function(e){return t.transfer()}}},[t._v("Transfer Now")])]),t._v(" "),t.zeroTomo?n("h5",{staticStyle:{color:"red","margin-left":"37px"}},[t._v("Can't transfer without TOMO")]):t._e()])])])])])])},staticRenderFns:[]};var T=n("VU/8")(x,C,!1,function(t){n("cNQD")},"data-v-24d403b1",null).exports,S={data:function(){return{transactions:null,page:0,address:"",url:""}},created:function(){var t=this;return r()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.url=""+window.TXS,t.address=p.data.address,t.page=localStorage.page,e.next=5,u.a.get(window.API+"/token-txs?token="+t.$route.params.address+"&address="+p.data.address+"&page=1&limit="+t.page);case 5:n=e.sent,t.transactions=n.data.items;case 7:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return r()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.page=Number(t.page)+10,localStorage.page=t.page,e.next=4,u.a.get(window.API+"/token-txs?token="+t.$route.params.address+"&address="+p.data.address+"&page=1&limit="+t.page);case 4:n=e.sent,t.transactions=n.data.items;case 6:case"end":return e.stop()}},e,t)}))()},linkToScan:function(t){window.location.href=this.url+"/"+t}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-bottom":"30px"}},[t._l(t.transactions,function(e){return n("div",{key:e.id,staticClass:"transaction-item",on:{click:function(n){return t.linkToScan(e.transactionHash)}}},[e.from===t.address?n("div",{staticClass:"transaction-table"},[n("div",{staticClass:"container",staticStyle:{"margin-right":"0px",width:"60%"}},[n("h3",{staticStyle:{color:"#ff0000",margin:"0 0 10px","font-size":"1em"}},[t._v("Send")]),t._v(" "),n("h5",{staticStyle:{color:"gray",overflow:"hidden","white-space":"nowrap",width:"100%","text-overflow":"ellipsis",margin:"0","font-weight":"normal"}},[t._v("To: "+t._s(e.to))])]),t._v(" "),n("div",{staticStyle:{color:"red",width:"40%","font-size":"16px","text-align":"right"}},[t._v("- "+t._s(e.value/Math.pow(10,18))+" "+t._s(e.symbol))])]):t._e(),t._v(" "),e.to===t.address?n("div",{staticClass:"transaction-table"},[n("div",{staticClass:"container",staticStyle:{"margin-right":"0px",width:"60%"}},[n("h3",{staticStyle:{color:"#00FF00",margin:"0 0 10px","font-size":"1em"}},[t._v("Received")]),t._v(" "),n("h5",{staticStyle:{color:"gray",overflow:"hidden","white-space":"nowrap",width:"100%","text-overflow":"ellipsis",margin:"0","font-weight":"normal"}},[t._v("From: "+t._s(e.from))])]),t._v(" "),n("div",{staticStyle:{color:"green",width:"40%","font-size":"16px","text-align":"right"}},[t._v("+ "+t._s(e.value/Math.pow(10,18))+" "+t._s(e.symbol))])]):t._e()])}),t._v(" "),n("h5",{staticStyle:{color:"gray","text-align":"center"},on:{click:function(e){return t.load()}}},[t._v("Load More")])],2)},staticRenderFns:[]};var A=n("VU/8")(S,M,!1,function(t){n("IphO")},"data-v-1890fcba",null).exports,F=(n("OMJi"),{name:"TokenDetail",beforeCreate:function(){p.data.address||window.addEventListener("load",function(){"undefined"!==p.login()&&p.loadTokens(1,15)})},components:{transferModal:T,transaction:A},data:function(){return{token:null,tokenBalance:0,zeroTomo:!1,showModal:!1}},created:function(){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getTokens();case 1:case"end":return e.stop()}},e,t)}))()},methods:{getTokens:function(){var t=r()(o.a.mark(function t(){var e=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getToken(this.$route.params.address);case 2:this.token=t.sent,setInterval(r()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getToken(e.$route.params.address);case 2:e.token=t.sent,k(e.$route.params.address,function(t){e.tokenBalance=t});case 4:case"end":return t.stop()}},t,e)})),1e3),g(function(t){0===t&&(e.zeroTomo=!0)});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}),O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.token?n("div",{staticStyle:{padding:"15px"},attrs:{id:"tokendetail"}},[n("div",{staticClass:"container",staticStyle:{"font-size":"25px"}},[t.token?n("div",{staticClass:"token-symbol"},[t._v(t._s(t.token.name))]):t._e()]),t._v(" "),n("div",{staticClass:"token-header"},[n("div",{staticClass:"container"},[n("div",{staticClass:"amount",staticStyle:{"font-size":"40px"}},[t._v(t._s(parseFloat(t.tokenBalance).toFixed(2)))]),t._v(" "),n("div",{staticStyle:{"font-family":"SFProText,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif",color:"#cfcde1","text-align":"center"}},[t._v(t._s(t.token.symbol))])])]),t._v(" "),n("div",{staticClass:"exchange__button-container common__fade-in"},[n("div",{staticClass:"exchange__button common__button-gradient",on:{click:function(e){t.showModal=!0}}},[t._v("Send")])]),t._v(" "),n("h4",{staticStyle:{color:"#fff","margin-bottom":"10px"}},[t._v("Transactions:")]),t._v(" "),n("transaction",{staticStyle:{"padding-bottom":"30px"}}),t._v(" "),t.showModal?n("transferModal",{on:{close:function(e){t.showModal=!1}}}):t._e()],1):t._e()},staticRenderFns:[]};var V=n("VU/8")(F,O,!1,function(t){n("UVFg")},"data-v-ff700b5c",null).exports;a.a.use(f.a);var $=new f.a({routes:[{path:"/",name:"Home",component:h},{path:"/tokendetail/:address",name:"TokenDetail",component:V}]});a.a.config.productionTip=!1,window.API="https://scan.tomochain.com/api",window.TXS="https://scan.tomochain.com/txs",new a.a({el:"#app",router:$,components:{App:m},template:"<App/>"})},UVFg:function(t,e){},cNQD:function(t,e){},sq73:function(t,e){},vDgR:function(t,e){t.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"tokens",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokens",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tokenOwner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"acceptOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokens",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"tokens",type:"uint256"},{name:"data",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"newOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokenAddress",type:"address"},{name:"tokens",type:"uint256"}],name:"transferAnyERC20Token",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"tokenOwner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"tokenOwner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Approval",type:"event"}]}},["NHnr"]);
//# sourceMappingURL=app.e737d39d7cefa1d94066.js.map